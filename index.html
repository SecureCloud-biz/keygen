<!DOCTYPE html>
<html>
  <head>
    <title>&lt;keygen&gt; test</title>
    <base href="/" />
    <link href='normalize.css'
          rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Arimo|Pacifico'
          rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="index.css" />
    <link rel="stylesheet/less" type="text/css" href="github.less" />
    <script src="less-1.3.0.min.js" type="text/javascript"></script>
  </head>
  <body>
    <div id="github-banner"><a href="https://github.com/alexchamberlain/keygen" target="_new">Fork me on GitHub</a></div>
    <header>
      &lt;keygen&gt; test
    </header>
    <form action="sign-certificate" method="POST">
      <label for="public_key">Encryption Algorithm:</label>
      <keygen name="public_key" />
      <label for="username">Username:</label>
      <input name="username" />
      <input type="submit" />
    </form>
    <section class="button">
      <a href="https://keygen.alexchamberlain.co.uk/secure">Go to the Secure Site</a>
    </section>
    <section class="button" id="hn">
      <a href="http://news.ycombinator.com/submitlink?u=http%3A%2F%2Fkeygen.alexchamberlain.co.uk&t=%3Ckeygen%3E%20test%20-%20an%20experiment%20in%20Client%20Certificates">Submit to Hacker News</a>
    </section>
    <section>
      <h1>What is this?</h1>
        This is an experiment to see whether client side certificates can
        actually be used with normal people, who don't really understand what
        HTTP or SSL are.
    </section>
    <section>
      <h1>Instructions</h1>
      Enter a username in the box above and click "Submit". The browser will
      generate a certificate, which the server will sign. You can use this
      certificate to access the "Secure Site".
    </section>
    <section>
      <h1>Why?</h1>
      <p>Though limited in their current form, client certificates should form part
      of the security of websites going forward. Certificates can easily be
      generated as part of the sign up process and then used as 1-factor of
      a weak two factor authentication method.</p>
      <p>The main advantage of client certificates is that they are
      spectacularly hard to guess. Assuming they haven't been stolen, if you
      verify a certificate, then that certificate was used. Unfortunately,
      in their current state, they are easily stolen by viruses; this risk may
    be mitigated slightly by using passwords as well.</p>
    </section>
    <section>
      <h1>Status</h1>
      This website looks the same, generates and installs certificates on
      <ul>
        <li>Chromium 21</li>
        <li>Firefox 15</li>
      </ul>
    </section>
    <section>
      <h1>TODO</h1>
      <ul>
        <li>Develop a polyfill for Internet Explorer.</li>
        <li>Does it work on Mobile Browsers?</li>
      </ul>
    </section>
    <section>
      <h1>Tips and Tricks</h1>
      <p>I've learnt a lot trying to get this to work.</p>
      <h2>Styling &lt;keygen&gt;</h2>
      <p>Should be easy, right? Maybe not as easy as you would think.</p>
      <p>
        In Firefox, the <code>&lt;keygen&gt;</code> element is replaced by a
        <code>&lt;select _moz-type="-mozilla-keygen"&gt;</code>. Therefore, to style
        it, you should use the <code>select[_moz-type="-mozilla-keygen"]</code>
        selector.
      </p>
      <p>
        In Chrome, the <code>&lt;keygen&gt;</code> element stays, but implicitly
        contains a <code>&lt;select&gt;</code>. You can style it by using the
        <code>keygen::-webkit-keygen-select</code> selector. However, since you
        should style <code>&lt;keygen&gt;</code> as if it were a single
        <code>&lt;select&gt;</code> just in case the behaviour changes in the future,
        you will need to remove the style on webkit only for a consistent
        interface. This can be achieved by wrapping the webkit only selectors
        in <code>@media screen and (-webkit-min-device-pixel-ratio:0)</code>;
        if this confuses you, checkout the stylesheet on GitHub.
      </p>
    </section>
    <footer>
      Built by
      <a href="http://www.alexchamberlain.co.uk/">Alex Chamberlain</a>.
      Background by <a href="http://subtlepatterns.com/">Subtle Patterns</a>.
    </footer>
  </body>
</html>
